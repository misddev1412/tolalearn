!function(e){"use strict";function t(t,a,i){var n=a.val();a.removeClass("is-invalid");var o=null;if(e("input#userId").length&&(o=e("input#userId").val()),""!==n&&null!==n){var r={name:i,value:n,user_id:o};e.post("/panel/setting/metas",r,function(e){e&&200==e.code&&(Swal.fire({icon:"success",html:'<h3 class="font-20 text-center text-dark-blue py-25">'+saveSuccessLang+"</h3>",showConfirmButton:!1,width:"25rem"}),setTimeout(function(){window.location.reload()},500))}).fail(function(e){Swal.fire({icon:"error",html:'<h3 class="font-20 text-center text-dark-blue py-25">'+saveErrorLang+"</h3>",showConfirmButton:!1,width:"25rem"}),t.removeClass("loadingbar primary").prop("disabled",!1)})}else a.addClass("is-invalid"),t.removeClass("loadingbar primary").prop("disabled",!1)}e("body").on("click","#saveData",function(t){t.preventDefault(),e('#userSettingForm input[name="next_step"]').val(0),e(this).addClass("loadingbar primary").prop("disabled",!0),e("#userSettingForm").trigger("submit")}),e("body").on("click","#getNextStep",function(t){t.preventDefault(),e('#userSettingForm input[name="next_step"]').val(1),e(this).addClass("loadingbar primary").prop("disabled",!0),e("#userSettingForm").trigger("submit")}),e("body").on("click","#userAddEducations",function(t){t.preventDefault();var a='<div id="newEducationSwlModal">';a+=e("#newEducationModal").html(),a+="</div>",Swal.fire({html:a,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"36rem"})}),e("body").on("click","#userAddExperiences",function(t){t.preventDefault();var a='<div id="newExperienceSwlModal">';a+=e("#newExperienceModal").html(),a+="</div>",Swal.fire({html:a,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"36rem"})}),e("body").on("click",".close-swl",function(e){e.preventDefault(),Swal.close()}),e("body").on("click","#newEducationSwlModal #saveEducation",function(a){a.preventDefault();var i=e(this);i.addClass("loadingbar primary").prop("disabled",!0),t(i,e("#newEducationSwlModal #new_education_val"),"education")}),e("body").on("click","#newExperienceSwlModal #saveExperience",function(a){a.preventDefault();var i=e(this);i.addClass("loadingbar primary").prop("disabled",!0),t(i,e("#newExperienceSwlModal #new_experience_val"),"experience")}),e("body").on("click","#editEducationSwlModal #editEducation",function(t){t.preventDefault();var a=e(this);a.addClass("loadingbar primary").prop("disabled",!0);var i=e("#editEducationSwlModal #new_education_val"),n=e(this).attr("data-user-id"),o=e(this).attr("data-education-id"),r=i.val();if(""!==r&&null!==r){var d={user_id:n,value:r,name:"education"};e.post("/panel/setting/metas/"+o+"/update",d,function(e){e&&200==e.code?(Swal.fire({icon:"success",html:'<h3 class="font-20 text-center text-dark-blue py-25">'+saveSuccessLang+"</h3>",showConfirmButton:!1,width:"25rem"}),setTimeout(function(){window.location.reload()},500)):403==e.code&&(Swal.fire({icon:"error",html:'<h3 class="font-20 text-center text-dark-blue py-25">'+notAccessToLang+"</h3>",showConfirmButton:!1,width:"25rem"}),a.removeClass("loadingbar primary").prop("disabled",!1))}).fail(function(e){Swal.fire({icon:"error",html:'<h3 class="font-20 text-center text-dark-blue py-25">'+saveErrorLang+"</h3>",showConfirmButton:!1,width:"25rem"}),a.removeClass("loadingbar primary").prop("disabled",!1)})}}),e("body").on("click","#editExperienceSwlModal #editExperience",function(t){t.preventDefault();var a=e(this);a.addClass("loadingbar primary").prop("disabled",!0);var i=e("#editExperienceSwlModal #new_experience_val"),n=e(this).attr("data-user-id"),o=e(this).attr("data-experience-id"),r=i.val();if(""!==r&&null!==r){var d={user_id:n,value:r,name:"experience"};e.post("/panel/setting/metas/"+o+"/update",d,function(e){e&&200==e.code?(Swal.fire({icon:"success",html:'<h3 class="font-20 text-center text-dark-blue py-25">'+saveSuccessLang+"</h3>",showConfirmButton:!1,width:"25rem"}),setTimeout(function(){window.location.reload()},500)):403==e.code&&(Swal.fire({icon:"error",html:'<h3 class="font-20 text-center text-dark-blue py-25">'+notAccessToLang+"</h3>",showConfirmButton:!1,width:"25rem"}),a.removeClass("loadingbar primary").prop("disabled",!1))}).fail(function(e){Swal.fire({icon:"error",html:'<h3 class="font-20 text-center text-dark-blue py-25">'+saveErrorLang+"</h3>",showConfirmButton:!1,width:"25rem"}),a.removeClass("loadingbar primary").prop("disabled",!1)})}}),e("body").on("click",".edit-education",function(t){t.preventDefault();var a=e(this).attr("data-user-id"),i=e(this).attr("data-education-id"),n=e(this).closest(".education-card").find(".education-value").text(),o='<div id="editEducationSwlModal">';o+=e("#newEducationModal").html(),o+="</div>",Swal.fire({html:o,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"36rem",onOpen:function(){var t=e("#editEducationSwlModal");t.find("#new_education_val").val(n),t.find(".section-title").text(editEducationLang);var o=t.find("#saveEducation");o.attr("data-user-id",a),o.attr("data-education-id",i),o.attr("id","editEducation")}})}),e("body").on("click",".edit-experience",function(t){t.preventDefault();var a=e(this).attr("data-user-id"),i=e(this).attr("data-experience-id"),n=e(this).closest(".experience-card").find(".experience-value").text(),o='<div id="editExperienceSwlModal">';o+=e("#newExperienceModal").html(),o+="</div>",Swal.fire({html:o,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"36rem",onOpen:function(){var t=e("#editExperienceSwlModal");t.find("#new_experience_val").val(n),t.find(".section-title").text(editExperienceLang);var o=t.find("#saveExperience");o.attr("data-user-id",a),o.attr("data-experience-id",i),o.attr("id","editExperience")}})})}(jQuery);
