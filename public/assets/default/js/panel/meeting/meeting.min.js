function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw r}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}!function(e){"use strict";function t(e,t){var n=e.val(),o=n.substring(0,n.length-2);return e.val(o+t),o}function n(){toTimepicker=e(".to-clockpicker").clockpicker({placement:"bottom",align:"left",default:"10:00AM",autoclose:!0,twelvehour:!0,afterDone:function(){o(),fromTimepicker.clockpicker("show"),toTimepicker.clockpicker("remove");var n=e(".to-clockpicker input"),i=e(".to-time .js-am-pm").text();e(".to-time").removeClass("pulsate").html(t(n,i)+' <span class="js-am-pm font-20">'+i+"</span>"),e("#timeTwelveSwitch").prop("disabled",!0)}})}function o(){fromTimepicker=e(".from-clockpicker").clockpicker({placement:"bottom",align:"left",autoclose:!0,default:"09:00AM",twelvehour:!0,afterDone:function(){n(),fromTimepicker.clockpicker("remove"),toTimepicker.clockpicker("show");var o=e(".from-clockpicker input"),i=e(".from-time .js-am-pm").text();e(".from-time").removeClass("pulsate").html(t(o,i)+' <span class="js-am-pm font-20">'+i+"</span>"),e(".to-time").addClass("pulsate")}}),fromTimepicker.clockpicker("show")}function i(e){var t='<div class="">\n    <p class="">'+deleteAlertHint+'</p>\n    <div class="mt-30 d-flex align-items-center justify-content-center">\n        <button type="button" id="deleteTime" data-time-id="'+e+'" class="btn btn-sm btn-primary">'+deleteAlertConfirm+'</button>\n        <button type="button" class="btn btn-sm btn-danger ml-10 close-swl">'+deleteAlertCancel+"</button>\n    </div>\n</div>";Swal.fire({title:deleteAlertTitle,html:t,icon:"warning",showConfirmButton:!1,showCancelButton:!1,allowOutsideClick:function(){return!Swal.isLoading()}})}n(),e("body").on("change","#timeTwelveSwitch",function(t){t.preventDefault();var n="AM",o="PM";this.checked&&(n="PM",o="AM");var i=e(".from-time.pulsate").find(".js-am-pm"),r=e(".to-time.pulsate").find(".js-am-pm");if(i.length){i.text(n);var a=e(".from-clockpicker input"),l=a.val();l=l.replace(o,n),a.val(l)}if(r.length){r.text(n);var c=e(".to-clockpicker input"),s=c.val();s=s.replace(o,n),c.val(s)}}),e("body").on("click",".add-time",function(t){t.preventDefault();var n='<div class="add-time-sheet row flex-column-reverse flex-lg-row align-items-center justify-content-center justify-content-lg-between">\n        <div class="clock-box col-12 col-lg-4 d-block position-relative d-flex align-items-center justify-content-center justify-content-lg-start">\n            <div class="from-clockpicker">\n                <input type="hidden" class="form-control " value="AM">\n            </div>\n            <div class="to-clockpicker">\n                <input type="hidden" class="form-control " value="AM">\n            </div>\n        </div>\n   <div class="col-12 col-lg-8">     <div class="row">        <div class="col-12 col-lg-4 mb-20 mb-lg-0 d-flex align-items-center justify-content-center custom-control custom-switch on-off-switch pl-0 py-0 py-lg-50">\n            <label style="margin-right: 60px">AM</label>\n            <input type="checkbox" class="custom-control-input" id="timeTwelveSwitch">\n            <label class="custom-control-label" for="timeTwelveSwitch">PM</label>\n        </div>\n\n        <div class="col-12 col-lg-8 d-flex flex-column align-items-center justify-content-center py-0 py-lg-50">\n            <div class="font-48 text-primary from-time pulsate">03:00 <span class="js-am-pm font-16">AM</span></div>\n            <div class="font-weight-500 text-dark-blue">To</div>\n            <div class="font-48 text-primary to-time">04:00 <span class="js-am-pm font-16">AM</span></div>\n        </div>\n    </div>   </div>  </div><div class="mt-30 d-flex align-items-center justify-content-end">\n    <button type="button" data-day="'+e(this).closest("tr").attr("data-day")+'" id="saveTime" class="btn btn-sm btn-primary">'+saveLang+'</button>\n    <button type="button" class="btn btn-sm btn-danger ml-10 close-swl">'+closeLang+"</button>\n</div>";Swal.fire({html:n,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"48rem",onOpen:function(){setTimeout(function(){o()},300)},onClose:function(){fromTimepicker.clockpicker("remove"),toTimepicker.clockpicker("remove")}})}),e("body").on("click","#saveTime",function(t){t.preventDefault();var n=e(this),o=e(".from-clockpicker input").val(),i=e(".to-clockpicker input").val(),r=n.attr("data-day");n.addClass("loadingbar primary").prop("disabled",!0);var a={day:r,time:o+"-"+i};e.post("/panel/meetings/saveTime",a,function(e){e&&200==e.code&&(Swal.fire({title:deleteAlertSuccess,text:successSavedTime,showConfirmButton:!1,icon:"success"}),setTimeout(function(){window.location.reload()},1e3))}).fail(function(){Swal.fire({title:errorSavingTime,text:noteToTimeMustGreater,icon:"error"}),n.removeClass("loadingbar primary").prop("disabled",!1)}).always(function(){fromTimepicker.clockpicker("remove"),toTimepicker.clockpicker("remove")})}),e("body").on("click",".remove-time",function(t){t.preventDefault(),i(e(this).attr("data-time-id"))}),e("body").on("click","#deleteTime",function(t){t.preventDefault();var n=e(this).attr("data-time-id");(function(t){var n={time_id:t};e.post("/panel/meetings/deleteTime",n,function(t){e.toast({heading:deleteAlertSuccess,text:successDeleteTime,bgColor:"#43d477",textColor:"white",hideAfter:5e3,position:"bottom-right",icon:"success"})}).fail(function(){e.toast({heading:deleteAlertFail,text:errorDeleteTime,bgColor:"#f63c3c",textColor:"white",hideAfter:5e3,position:"bottom-right",icon:"error"})})})(n=n.split(",")),Swal.close();var o,i=_createForOfIteratorHelper(n);try{for(i.s();!(o=i.n()).done;){var r=o.value;e('.remove-time[data-time-id="'+r+'"]').parent().remove()}}catch(e){i.e(e)}finally{i.f()}}),e("body").on("click",".clear-all",function(t){t.preventDefault(),i(e(this).closest("tr").find(".selected-time .remove-time").map(function(){return this.dataset.timeId}).get().join(","))}),e("body").on("change","#temporaryDisableMeetingsSwitch",function(t){t.preventDefault();var n=e(this);loadingSwl();var o=!1;this.checked&&(o=!0);var i={disable:o};e.post("/panel/meetings/temporaryDisableMeetings",i,function(e){e&&200==e.code&&(Swal.fire({text:requestSuccess,showConfirmButton:!1,icon:"success"}),setTimeout(function(){Swal.close()},2e3))}).fail(function(){Swal.fire({text:requestFailed,icon:"error"}),n.removeClass("loadingbar primary").prop("disabled",!1)})}),e("body").on("click","#meetingSettingFormSubmit",function(t){t.preventDefault();var n=e(this),o=n.closest("form"),i=o.attr("action"),r=serializeObjectByTag(o);n.addClass("loadingbar primary").prop("disabled",!0),e.post(i,r,function(e){e&&200===e.code&&(Swal.fire({icon:"success",html:'<h3 class="font-20 text-center text-dark-blue py-25">'+saveMeetingSuccessLang+"</h3>",showConfirmButton:!1,width:"25rem"}),setTimeout(function(){window.location.reload()},500))}).fail(function(e){n.removeClass("loadingbar primary").prop("disabled",!1);var t=e.responseJSON;t&&t.errors&&Object.keys(t.errors).forEach(function(e){var n=t.errors[e],i=o.find('[name="'+e+'"]');i.addClass("is-invalid"),i.parent().find(".invalid-feedback").text(n[0])})})})}(jQuery);
