!function(t){"use strict";t("body").on("click",".js-reply-comment",function(n){n.preventDefault();var e=t(this).attr("data-comment-id"),o=t("#commentDescription"+e).val(),a='<div class="">\n        <h3 class="section-title after-line">'+replyToCommentLang+'</h3>\n        <div class="rounded-sm p-15 border border-gray300 bg-info-light mt-20 text-gray">'+o+'</div>\n        <form id="commentForm" action="/panel/webinars/comments/'+e+'/reply" method="post" class="mt-20">\n            <div class="form-group">\n                <label class="input-label">'+replyToCommentLang+'</label>\n                <textarea name="comment" rows="6" class="form-control"></textarea>\n            </div>\n\n            <div class="mt-30 d-flex align-items-center justify-content-end">\n                <button type="button" class="btn btn-sm btn-primary js-save-form">'+saveLang+'</button>\n                <button type="button" class="btn btn-sm btn-danger ml-10 close-swl">'+closeLang+"</button>\n            </div>\n        </form>\n    </div>";Swal.fire({html:a,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"40rem"})}),t("body").on("click",".js-save-form",function(n){var e=t(this);e.addClass("loadingbar primary").prop("disabled",!0);var o=t(this).closest("form"),a=o.attr("action"),s=o.serializeObject();t.post(a,s,function(t){t&&200===t.code?Swal.fire({icon:"success",html:'<h3 class="font-20 text-center text-dark-blue">'+t.msg+"</h3>",showConfirmButton:!0}):t&&401===t.code&&Swal.fire({icon:"error",html:'<h3 class="font-20 text-center text-dark-blue">'+failedLang+"</h3>",showConfirmButton:!1})}).fail(function(t){e.removeClass("loadingbar primary").prop("disabled",!1);var n=t.responseJSON;n&&n.errors&&Object.keys(n.errors).forEach(function(t){var e=n.errors[t],a=o.find('[name="'+t+'"]');a.addClass("is-invalid"),a.parent().find(".invalid-feedback").text(e[0])})})}),t("body").on("click",".js-view-comment",function(n){n.preventDefault();var e=t(this).attr("data-comment-id"),o=t("#commentDescription"+e).val(),a='<div class=""><h3 class="section-title after-line">'+commentLang+'</h3><p class="font-weight-500 text-gray mt-20">'+o+"</p></div>";Swal.fire({html:a,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"40rem"})}),t("body").on("click",".js-edit-comment",function(n){n.preventDefault();var e=t(this).attr("data-comment-id"),o=t("#commentDescription"+e).val(),a='<div class="">\n        <h3 class="section-title after-line">'+editCommentLang+'</h3>\n        <form action="/panel/webinars/comments/'+e+'/update" method="post" class="mt-20">\n            <input type="hidden" name="_token" value="'+csrfToken+'">\n            <div class="form-group">\n                <label class="input-label">'+replyToCommentLang+'</label>\n                <textarea name="comment" rows="6" class="form-control">'+o+'</textarea>\n            </div>\n\n            <div class="mt-30 d-flex align-items-center justify-content-end">\n                <button type="button" class="btn btn-sm btn-primary js-save-form">'+saveLang+'</button>\n                <button type="button" class="btn btn-sm btn-danger ml-10 close-swl">'+closeLang+"</button>\n            </div>\n        </form>\n    </div>";Swal.fire({html:a,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"40rem"})}),t("body").on("click",".report-comment",function(n){n.preventDefault();var e=t(this).attr("data-comment-id"),o='<div id="reportModal">\n    <h3 class="section-title after-line font-20 text-dark-blue mb-25">'+reportLang+'</h3>\n\n    <form action="/panel/webinars/comments/'+e+'/report" method="post">\n        <div class="form-group">\n            <label class="input-label">'+messageToReviewerLang+'</label>\n            <textarea name="message" class="form-control" rows="6"></textarea>\n            <div class="invalid-feedback"></div>\n        </div>\n\n        <div class="mt-30 d-flex align-items-center justify-content-end">\n            <button type="button" id="saveReport" class="btn btn-sm btn-primary">'+saveLang+'</button>\n            <button type="button" class="btn btn-sm btn-danger ml-10 close-swl">'+closeLang+"</button>\n        </div>\n    </form>\n</div>";Swal.fire({html:o,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"30rem"})}),t("body").on("click","#saveReport",function(n){var e=t(this),o=t("#reportModal form"),a=o.serializeObject(),s=o.attr("action");e.addClass("loadingbar primary").prop("disabled",!0),o.find("input").removeClass("is-invalid"),o.find("textarea").removeClass("is-invalid"),t.post(s,a,function(t){t&&200===t.code&&(Swal.fire({icon:"success",html:'<h3 class="font-20 text-center text-dark-blue">'+reportSuccessLang+"</h3>",showConfirmButton:!1}),setTimeout(function(){window.location.reload()},2e3))}).fail(function(t){e.removeClass("loadingbar primary").prop("disabled",!1);var n=t.responseJSON;n&&n.errors&&Object.keys(n.errors).forEach(function(t){var e=n.errors[t],a=o.find('[name="'+t+'"]');a.addClass("is-invalid"),a.parent().find(".invalid-feedback").text(e[0])})})}),t("body").on("change","#newCommentsSwitch",function(n){n.preventDefault(),t(this).closest("form").trigger("submit")})}(jQuery);
